<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ุญุงุณุจุฉ ุงูุฎุฒุงุฆู ูุงูุญูู ุงูุณููู</title>
<style>
body { font-family: "Tahoma", sans-serif; direction: rtl; margin: 20px; }
h2 { color: #333; }
.container { display: flex; gap: 20px; flex-wrap: wrap; }
.section { border: 1px solid #aaa; padding: 15px; border-radius: 8px; width: 48%; }
label { display: block; margin-top: 10px; }
input, select { margin-top: 5px; width: 100px; }
button { margin-top: 15px; padding: 5px 15px; cursor: pointer; }
.results { margin-top: 20px; background: #f9f9f9; padding: 15px; border-radius: 8px; }
.item { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px dashed #ccc; }
.divider-row { display:flex; gap:5px; margin-top:5px; align-items:center;}
</style>
</head>
<body>

<h2>๐ ุจุฑูุงูุฌ ุญุณุงุจ ุงูุฎุฒุงุฆู ูุงูุญูู ุงูุณููู</h2>

<div class="container">
  <div class="section">
    <h3>โ ุฅุถุงูุฉ ุฎุฒุงูุฉ</h3>
    <label>ุงูุนุฑุถ (ุณู): <input type="number" id="cabWidth"></label>
    <label>ุงูุงุฑุชูุงุน (ุณู): <input type="number" id="cabHeight"></label>
    <label>ุงูุนูู (ุณู): <input type="number" id="cabDepth"></label>
    <label>ุนุฏุฏ ุงูุฃุจูุงุจ:
      <select id="cabDoors">
        <option value="1">ุจุงุจ ูุงุญุฏ</option>
        <option value="2">ุจุงุจุงู</option>
      </select>
    </label>
    <button onclick="addCabinet()">ุฅุถุงูุฉ ุฎุฒุงูุฉ</button>
  </div>

  <div class="section">
    <h3>โ ุฅุถุงูุฉ ุญูู ุณููู</h3>
    <label>ุงูุนุฑุถ (ุณู): <input type="number" id="frameWidth"></label>
    <label>ุงูุงุฑุชูุงุน (ุณู): <input type="number" id="frameHeight"></label>
    <div id="dividerContainer"></div>
    <button onclick="addDividerRow()">โ ุฅุถุงูุฉ ูุงุทุน</button>
    <button onclick="addFrame()">ุฅุถุงูุฉ ุญูู</button>
  </div>
</div>

<div class="results" id="results">
<h3>๐ ุงููุชุงุฆุฌ:</h3>
</div>

<button onclick="printResults()">๐จ๏ธ ุทุจุงุนุฉ ุงููุชุงุฆุฌ</button>

<script>
let resultsDiv = document.getElementById("results");

// ุงูุฎุฒุงุฆู (ููุง ูู)
function addCabinet() {
  let wMain = parseFloat(document.getElementById("cabWidth").value);
  let hMain = parseFloat(document.getElementById("cabHeight").value);
  let dMain = parseFloat(document.getElementById("cabDepth").value);
  let doors = parseInt(document.getElementById("cabDoors").value);
  if(wMain<=0||hMain<=0||dMain<=0){ alert("โ ุฃุฏุฎู ููุงุณุงุช ุตุญูุญุฉ ููุฎุฒุงูุฉ"); return; }
  let w = wMain-5, h = hMain-5, d = dMain-5;
  let item=document.createElement("div"); item.className="item";

  // ุงูุฃุจูุงุจ
  let doorHeight = (doors===1)?hMain-2.5:hMain-2.5;
  let doorWidth = (doors===1)?wMain-3:(wMain-4)/2;
  let doorCount=(doors===1)?2:4;
  let hinges = doorCount*2;
  let handles = doorCount;
  let angles = doorCount*4;
  let doorDesc = (doors===1)?
    `ุจุงุจ ูุงุญุฏ: ${doorWidth} ร ${doorHeight} ุณู โ ูุตุงูุงุช 2 / ูุฏ 1 โ ุนุฏุฏ ูู ููุงุณ: ุนุฑุถ ${doorCount} ร ุงุฑุชูุงุน ${doorCount}`:
    `ุจุงุจุงู: ${doorWidth} ร ${doorHeight} ุณู ููู ุจุงุจ โ ูุตุงูุงุช 2 / ูุฏ 1 ููู ุจุงุจ โ ุนุฏุฏ ูู ููุงุณ: ุนุฑุถ 4 ร ุงุฑุชูุงุน 4`;

  // ุงููููุงููู
  let melamineDesc = `
    <b>ูููุงููู ุงูุฎุฒุงูุฉ:</b><br>
    -  2 ูุทุนุฉ<br>
    -  2 ูุทุนุฉ<br>
    -  1 ูุทุนุฉ<br>
    (ุฎุตู 5.2 ุณู ูู ุงูููุงุณ ุงูุฑุฆูุณู)<br>
    <b>ูููุงููู ุงูุฃุจูุงุจ:</b> ุฎุตู 11 ุณู ูู ูู ุจุงุจ
  `;

  item.innerHTML = `
    <h4>๐๏ธ ุฎุฒุงูุฉ</h4>
    ุงูุฃุจุนุงุฏ ุจุนุฏ ุฎุตู ุงูุจุฑููููุงุช: ุนุฑุถ ${w} ร ุงุฑุชูุงุน ${h} ร ุนูู ${d}<br>
    ${melamineDesc}<br>
    <b>ุชูุงุตูู ุงูุฃุจูุงุจ:</b><br>${doorDesc}<br>
    <div>ุนุฏุฏ ุงูุฒูุงูุง ููู ุฎุฒุงูุฉ: 8</div>
    <div>ููุฎุต: ุงูุฃุจูุงุจ ${doorCount} โ ุงููุตุงูุงุช ${hinges} โ ุงูุฃูุฏู ${handles} โ ุงูุฒูุงูุง ${angles}</div>
  `;
  resultsDiv.appendChild(item);
}

// ุงูุญููุงุช
function addDividerRow(){
  let container=document.getElementById("dividerContainer");
  let row=document.createElement("div"); row.className="divider-row";
  row.innerHTML=`
    <input type="number" placeholder="ูุณุงูุฉ ุงููุงุทุน ูู ุงููููู" class="divPos">
    <select class="divDoors">
      <option value="1">1 ุจุงุจ</option>
      <option value="2">2 ุจุงุจ</option>
    </select>
    <button onclick="this.parentElement.remove()">ร ุญุฐู</button>
  `;
  container.appendChild(row);
}

function addFrame(){
  let w=parseFloat(document.getElementById("frameWidth").value);
  let h=parseFloat(document.getElementById("frameHeight").value);
  if(w<=0||h<=0){ alert("โ ุฃุฏุฎู ููุงุณุงุช ุตุญูุญุฉ"); return; }

  let rows=document.querySelectorAll(".divider-row");
  let dividers=[];
  rows.forEach(r=>{
    let pos=parseFloat(r.querySelector(".divPos").value);
    let doors=parseInt(r.querySelector(".divDoors").value);
    if(!isNaN(pos)&&pos>0) dividers.push({position:pos, doors:doors});
  });
  dividers.sort((a,b)=>a.position-b.position);

  let item=document.createElement("div"); item.className="item";
  let lastPos=0; let sectionDetails=""; let doorHeight=h-2.5;

  // ุงูููุงุทุน ูู ุงููููู ูููุณุงุฑ
  dividers.forEach((d,i)=>{
    let segWidth = d.position - lastPos - (i>0?2.7:0);
    let doorsCount = d.doors;
    let doorInfo="";
    if(doorsCount===1){
      let dw = segWidth - 3;
      doorInfo=`ุจุงุจ ูุงุญุฏ: ${dw.toFixed(2)} ร ${doorHeight.toFixed(2)} ุณู โ ูุตุงูุงุช 2 / ูุฏ 1 โ ุฒูุงูุง 4`;
    } else {
      let dw = (segWidth - 4)/2;
      doorInfo=`ุจุงุจุงู: ${dw.toFixed(2)} ร ${doorHeight.toFixed(2)} ุณู ููู ุจุงุจ โ ูุตุงูุงุช 2 / ูุฏ 1 ููู ุจุงุจ โ ุฒูุงูุง 4 ููู ุจุงุจ`;
    }
    sectionDetails+=`ุงูููุทุน ${i+1}: ุนุฑุถ ${segWidth.toFixed(2)} ุณู ร ุงุฑุชูุงุน ${doorHeight.toFixed(2)} ุณู โ ${doorInfo}<br>`;
    lastPos=d.position;
  });

  // ุงูููุทุน ุงูุฃุฎูุฑ ุจุนุฏ ุขุฎุฑ ูุงุทุน
  let remainingWidth = w - lastPos - (dividers.length>0?2.7:0);
  let lastDoors = parseInt(prompt("ุนุฏุฏ ุฃุจูุงุจ ุงูููุทุน ุงูุฃุฎูุฑุ (1 ุฃู 2)","1"))||1;
  let doorInfo="";
  if(lastDoors===1){
    let dw = remainingWidth - 3;
    doorInfo=`ุจุงุจ ูุงุญุฏ: ${dw.toFixed(2)} ร ${
